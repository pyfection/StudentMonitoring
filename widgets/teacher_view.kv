<TeacherView>:
    attendance_list_yesterday: attendance_list_yesterday
    attendance_list: attendance_list
    student_list: student_list
    student_overview: student_overview
    grades_list: grades_list
    fees_list: fees_list
    plan_list: plan_list

    TabbedPanel:
        do_default_tab: False

        TabbedPanelItem:
            id: panel_item
            text: f"Today\n[size=13sp]{date.today().strftime('%d-%m-%Y')}[/size]"
            markup: True

            Accordion:
                orientation: "vertical"

                AccordionItem:
                    title: "Yesterday"

                    ScrollView:
                        do_scroll_x: False

                        BoxLayout:
                            # Only shows the students for which attendance was not entered yesterday
                            id: attendance_list_yesterday
                            orientation: "vertical"
                            size_hint_y: None
                            height: len(self.children) * 80
                            on_children: self.parent.height = sum(c.height for c in self.parent.children)
                            minimum_height: 10

                AccordionItem:
                    title: "Today"

                    ScrollView:
                        do_scroll_x: False

                        BoxLayout:
                            id: attendance_list
                            orientation: "vertical"
                            size_hint_y: None
                            height: len(self.children) * 80
                            on_children: self.parent.height = sum(c.height for c in self.parent.children)
                            minimum_height: 10

        TabbedPanelItem:
            text: "Students"

            BoxLayout:
                orientation: "vertical"

                MDFillRoundFlatIconButton:
                    id: add_student
                    icon: "plus"
                    text: "Add Student"
                    size_hint_x: 1
                    size_hint_y: None
                    height: 80
                    on_press: root.current = "add_child"

                ScrollView:
                    Accordion:
                        id: student_list
                        orientation: "vertical"
                        size_hint_y: None
                        minimum_height: 100

        TabbedPanelItem:
            text: f"Grades\n[size=13sp]{(date.today().replace(day=1) - timedelta(days=1)).strftime('%b-%Y')}[/size]"
            markup: True

            ScrollView:
                BoxLayout:
                    id: grades_list
                    orientation: "vertical"
                    size_hint_y: None
                    size_hint_x: None
                    width: 1500
                    on_children: self.height = len(self.children) * 80
                    minimum_height: 100

        TabbedPanelItem:
            text: f"Fees\n[size=13sp]{(date.today().replace(day=1) - timedelta(days=1)).strftime('%b-%Y')}[/size]"
            markup: True

            ScrollView:
                BoxLayout:
                    id: fees_list
                    orientation: "vertical"
                    size_hint_y: None
                    size_hint_x: None
                    width: 1500
                    on_children: self.height = len(self.children) * 80
                    minimum_height: 100

        TabbedPanelItem:
            text: "Plan"
            PlanView:
                id: plan_list

        TabbedPanelItem:
            text: "Overview"
            TabbedPanel:
                id: student_overview
                do_default_tab: False
