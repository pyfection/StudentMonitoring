#:import settings settings

<TodayView>:
    toolbar: toolbar
    attendance: attendance
    orientation: "vertical"

    NativoToolbar:
        id: toolbar
        left_action_items: [['menu', lambda x: root.nav_drawer.set_state("open")]]
        right_action_items: [['content-save', lambda x: root.save()]]

    ScrollView:
        MDBoxLayout:
            id: attendance
            adaptive_height: True
            orientation: "vertical"


<Attendance>:
    adaptive_height: True

    MDLabel:
        text: root.student_name

    MDFillRoundToggleButton:
        text: "present"
        background_normal: (1, 1, 1, 0)
        group: root.group
        state: 'down' if root.state == 'present' else 'normal'
        background_down: settings.PRESENT_COLOR
        md_bg_color: settings.PRESENT_COLOR if root.state == 'present' else self.background_normal
        on_state: root.state = 'present'

    MDFillRoundToggleButton:
        text: "absent"
        background_normal: (1, 1, 1, 0)
        group: root.group
        state: 'down' if root.state == 'absent' else 'normal'
        background_down: settings.ABSENT_COLOR
        md_bg_color: settings.ABSENT_COLOR if root.state == 'absent' else self.background_normal
        on_state: root.state = 'absent'

    MDFillRoundToggleButton:
        text: "late"
        background_normal: (1, 1, 1, 0)
        group: root.group
        state: 'down' if root.state == 'late' else 'normal'
        background_down: settings.LATE_COLOR
        md_bg_color: settings.LATE_COLOR if root.state == 'late' else self.background_normal
        on_state: root.state = 'late'


<AttendanceContent>:
    adaptive_height: True
    orientation: "vertical"
